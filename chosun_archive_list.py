from data.chosun_archive_parser import ChosunListParser
from dao.chosun_archive_dao import ChosunArchiveDao
from time import sleep
from util.util import Util

class ChosunArchiveList:
  def __init__(self):
    self.app = ChosunListParser()
    self.dao = ChosunArchiveDao()

  def parse_and_save(self, year, page):
    items = self.app._fetch_list(year, page)
    self.dao.saveRaw(items)

if __name__ == "__main__":
  a = ChosunArchiveList()
  # 2002 ~ 2006
  year_page_pair = [
    #(2006, ["01","02", "03","04", "05","06","07","08","09","10","11","12","13","14"]),
    #(2007, ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11"]),
    #(2008, ["01", "02", "03", "04", "05", "06", "07", "08", "09"]),
    #(2009, ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10"]),
    #(2010, ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12", "13", "14","15"])
    (2011, ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11"]),
    #(2012, ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11"]),
    #(2013, ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11"]),
    #(2014, ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11"]),
    #(2015, ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11"]),
    #(2016, ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11"]),
    #(2017, ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11"]),
    #(2018, ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11"]),
    #(2019, ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11"])
  ]

  for pair in year_page_pair:
    year = pair[0]
    pages = pair[1]
    for page in pages:
      a.parse_and_save(year, page)

