## 실행환경

- python 3.6 이상
- python modules (requirements.txt 파일 참조)
```
  > requests
  > PyMySQL
  > beautifulsoup4
  > configparser
  > lxml
```
- MySQL 또는 MariaDB 접속환경 필요

## 환경설졍
- config.ini.sample 파일을 config.ini 파일로 복사한 후 DB 접속정보를 입력한다


## 실행

### 빅카인즈 수집
 - 리스트 수집을 먼저 한 다음 기사내용을 갱신하는 순서로 작업 진행한다
 - 리스트 수집과 기사내용 갱신은 bigkind_crawling.py 파일을 통해 진행

### 조선 아카이브 수집
 - 리스트 수집을 위한 자동 request 생성 구현의 난이도가 높아 수작업으로 개별 리스트 페이지 획득 및 저장(data/chosun/yyyy)
 - 파일명은 리스트 해당년도 검색결과의 페이지 번호와 동일하다
 - 리스트 파일 파싱 후 컨텐츠를 가져와 갱신하는 방식으로 처리한다
 - 리스트 파일 파싱은 chosun_archive_list.py 파일을 이용
 - 컨텐츠 내용 크롤링 및 저장은 chosun_archive_detail.py 파일 이용


#### 참고) 조선 아카이브 검색 방식 (검증방법)
지면보기 > 검색 페이지로 들어가서
```
검색어 : 북한
기간 : 1년 단위로 1/1~12/31까지 검색  예) 20010101 ~ 20011231
정렬순서 : 과거기사순
출력건수 : 300건
```

연도별 검색건수
```
1998 : 2977     1999 : 3137
2000 : 4283     2001 : 3966     2002 : 4216     2003 : 4097     2004 : 3210
2005 : 3107     2006 : 3905     2007 : 3161     2008 : 2658     2009 : 2987
2010 : 4345     2011 : 3111     2012 : 2979     2013 : 3676     2014 : 3087
2015 : 3159     2016 : 3128     2017 : 3854     2018 : 4789     2019 : 3415
```

#### 참고) 조선 아카이브 데이터 제공 사이트
대부분의 데이터는 조선 아카이브 자체의 사이트(http://srchdb1.chosun.com/) 를 통해 제공되지만
일부 데이터는 http://premium.chosun.com/ 로 리다이렉트 되는 형태로 제공되고 있다
이러한 데이터는 content 앞에 [[PREMIUM]] 이라는 별도의 말머리를 달았다
* 이런류의 데이터는 2013, 2014 년에 집중되어 있다

#### 데이터 오류
- 2013년 12페이지의 "'탈북자 사형시켜야 한다'는 法大 교수 대구大 윤재만 교수, 카톡에 ＂자유민주주의 파괴에 부역한 탈북자 엄벌을＂ 글 파문"
글은 실제 링크 클릭을 하면 404 Not Found 가 발생한다
- 광고글이나 링크가 동작 안하는 항목은 수집에서 제외 됐다 제외된 수는 아래와 같다
```
1998 : 23
1999 : 3
2002 : 1
2003 : 6
2005 : 8
2006 : 4
2007 : 15
2008 : 1
2011 : 2
2013 : 2
2015 : 32
2016 : 44
2017 : 37
2018 : 56
2019 : 54
```
